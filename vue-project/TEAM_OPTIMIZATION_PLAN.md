# 道德经平台 2.0 项目分工与优化战略手册

> **版本**: 1.0  
> **日期**: 2026-02-11  
> **适用对象**: 3人开发小组  
> **目标**: 将“演示版”转化为具备商业化潜力的“实战版”

---

## 1. 现状分析

目前的《道德经平台 2.0》在前端视觉（水墨特效、禅模式）和交互逻辑（路由、组件）上已经非常成熟。但作为一款商业级应用，目前存在两个核心短板：
1.  **数据层**：依赖 `LocalStorage`，数据无法跨设备同步，易丢失。
2.  **AI 层**：依赖 Mock 数据和简单规则，缺乏真实的语义理解和生成能力。

---

## 2. 分工方案建议

### 方案一：技术栈水平分层（强烈推荐 🌟）
**适用场景**：团队成员技能点互补，希望通过“专人专事”实现效率最大化。

#### 👤 成员 A：前端交互与视觉专家 (Frontend & UX Lead)
*   **核心职责**：负责“面子”，打造极致的视觉体验和多端适配。
*   **关键任务**：
    1.  **移动端深度适配**：优化 `KnowledgeGraph`（知识图谱）和 `Three.js` 水墨背景在手机端的性能与触摸交互。
    2.  **视觉动效精修**：重构“每日一签”抽签动画、“境界升级”粒子特效，增加微交互（Haptic Feedback）。
    3.  **组件库维护**：建立统一的 UI Kit，确保全站（禅模式/古籍模式）风格严格一致。
*   **交付物**：Lighthouse 评分 90+ 的高性能 UI，PWA 离线包。

#### 👤 成员 B：后端架构与数据专家 (Backend & Data Lead)
*   **核心职责**：负责“里子”，构建稳健的数据基础设施。
*   **关键任务**：
    1.  **去 LocalStorage 化**：接入 **Supabase** 或 **MySQL**，设计 `User`、`Cultivation`、`Post` 等核心数据表。
    2.  **用户中心**：实现 JWT 身份验证，打通手机号/微信登录，实现数据云端同步。
    3.  **支付与订单**：对接沙箱支付接口（Alipay/Stripe），实现“布衣/居士/宗师”会员状态的真实流转。
*   **交付物**：API 接口文档（Swagger/Apifox），稳定的数据库实例。

#### 👤 成员 C：AI 智能体与内容策划 (AI Engineer & Content Lead)
*   **核心职责**：负责“灵魂”，赋予应用真实的智能与深度。
*   **关键任务**：
    1.  **RAG 2.0 实装**：搭建向量数据库（Coze/LangChain），将《道德经》八十一章及历代注疏向量化，实现真·语义搜索。
    2.  **Prompt 工程**：精调“隐士”、“学者”、“疗愈师”的 System Prompt，确保人格化回复的稳定性。
    3.  **内容资产生产**：利用 AI 生成 6 门“道商”课程的完整脚本，并合成高质量 TTS 语音包。
*   **交付物**：高准确率的 AI 问答接口，课程内容库。

---

### 方案二：业务模块垂直切分
**适用场景**：团队成员均具备全栈能力，希望锻炼独立负责业务闭环的能力。

#### 👤 成员 A：核心修仙系统
*   **模块**：`AI 解读`、`学习路径`、`知识图谱`、`境界系统`。
*   **目标**：负责用户的“学”与“练”。确保学习进度实时上云，优化 D3.js 图谱渲染。

#### 👤 成员 B：商业化与社区
*   **模块**：`道商修练`、`共创社区`、`会员体系`、`资源库`。
*   **目标**：负责用户的“留”与“买”。打通支付链路，完善社区互动（点赞/评论/举报）。

#### 👤 成员 C：创新场景应用
*   **模块**：`决策占卜`、`亲子绘本`、`数字文创`、`每日一签`。
*   **目标**：负责用户的“玩”与“传”。优化占卜算法，提升 AI 绘图质量，打造引流爆款。

---

## 3. 团队协作规范 (SOP)

为了避免多人开发导致的代码冲突和混乱，请严格遵守以下规范：

1.  **Git 分支管理策略**：
    *   严禁直接推送到 `main` 分支。
    *   **Feature 分支**：每人基于 `main` 创建自己的开发分支，命名格式：`feature/name-module`（如 `feature/alex-ui-fix`）。
    *   **Pull Request**：每天结束工作前，提交 PR 并请求队友 Code Review，确认无误后合并。

2.  **接口契约优先 (API First)**：
    *   后端（成员 B）在开发前必须先出具 API 定义（URL、参数、返回值）。
    *   前端可先根据契约 Mock 数据开发，后端完成后无缝切换。

3.  **环境隔离 (.env)**：
    *   所有敏感密钥（OpenAI Key, Supabase Key, DB Password）必须存放在 `.env` 文件中。
    *   **禁止**将 `.env` 提交到 Git 仓库，请提交 `.env.example` 作为模板。

---

## 4. 推荐实施路径

**第一周：基础设施搭建**
*   B 搭建数据库与 API 框架。
*   A 优化现有 UI 细节与移动端适配。
*   C 跑通真实 LLM 接口与向量库。

**第二周：核心功能联调**
*   实现真实登录与数据同步。
*   替换 AI 对话接口为真实调用。

**第三周：商业化与完善**
*   接入支付流程。
*   补充课程内容与文创资源。
*   全站集成测试。
